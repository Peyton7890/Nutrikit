{"ast":null,"code":"var _jsxFileName = \"/Users/peytonmartin/RIT/SWEN344/React-pdm4689/pdm4689-react/src/App.js\";\nimport React from \"react\";\nimport Categories from \"./Categories\";\nimport MenuItems from \"./MenuItems\";\nimport SelectedItems from \"./SelectedItems\";\nimport AddButton from \"./AddButton\";\nimport { Row } from 'reactstrap';\nimport './index.css'; // import MyComponent from \"./mycomponent\";\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.updateData = apiResponse => {\n      console.log(apiResponse);\n      this.setState({\n        data: apiResponse\n      }); // this.props.menu.append(el);\n    };\n\n    this.fetchData = () => {\n      fetch('/example_api').then(response => {\n        if (response.status === 200) {\n          return response.json();\n        } else {\n          console.log(\"HTTP error:\" + response.status + \":\" + response.statusText);\n          return [[\"status \", response.status]];\n        }\n      }) //The promise response is returned, then we extract the json data\n      .then(jsonOutput => {\n        //jsonOutput now has result of the data extraction\n        this.updateData(jsonOutput);\n      }).catch(error => {\n        console.log(error);\n        this.updateData(\"\");\n      });\n    };\n\n    this.setList = foodtype => {\n      var i;\n\n      for (i = 5; i >= 0; i--) {\n        this.state.myRequestedRefs.menu.remove(i);\n      }\n\n      for (i = 0; i < this.state.data.length; i++) {\n        var el = document.createElement(\"option\");\n\n        if (this.state.data[i][2] === foodtype) {\n          el.textContent = this.state.data[i][1];\n          el.value = this.state.data[i][3];\n          el.totalFat = this.state.data[i][4];\n          el.satFat = this.state.data[i][5];\n          el.transFat = this.state.data[i][6];\n          el.protein = this.state.data[i][7];\n          el.totalCarb = this.state.data[i][8];\n          this.state.myRequestedRefs.menu.append(el);\n        }\n      }\n    };\n\n    this.addToSelected = () => {\n      if (this.state.myRequestedRefs.menu.value === \"\") {\n        return;\n      }\n\n      this.setNutritional();\n      var values = this.state.myRequestedRefs.menu;\n      var select = this.state.selectedRefs.selected;\n      var el = document.createElement(\"option\");\n      el.textContent = values.options[values.selectedIndex].text;\n      el.value = values.value;\n      select.append(el);\n      this.Selected.current.setState({\n        calories: this.Selected.current.state.calories + parseInt(this.Menu.current.state.calories),\n        totalFat: this.Selected.current.state.totalFat + parseFloat(this.Menu.current.state.totalFat),\n        satFat: this.Selected.current.state.satFat + parseFloat(this.Menu.current.state.satFat),\n        transFat: this.Selected.current.state.transFat + parseFloat(this.Menu.current.state.transFat),\n        protein: this.Selected.current.state.protein + parseFloat(this.Menu.current.state.protein),\n        carb: this.Selected.current.state.carb + parseFloat(this.Menu.current.state.carb)\n      });\n    };\n\n    this.removeFromSelected = () => {\n      if (this.state.selectedRefs.selected.value === \"\") {\n        return;\n      }\n\n      var select = this.state.selectedRefs.selected;\n      var values = this.state.myRequestedRefs.menu;\n      this.Selected.current.setState({\n        calories: this.Selected.current.state.calories - parseInt(values.value),\n        totalFat: this.Selected.current.state.totalFat - parseFloat(values.options[values.selectedIndex].totalFat),\n        satFat: this.Selected.current.state.satFat - parseFloat(values.options[values.selectedIndex].satFat),\n        transFat: this.Selected.current.state.transFat - parseFloat(values.options[values.selectedIndex].transFat),\n        protein: this.Selected.current.state.protein - parseFloat(values.options[values.selectedIndex].protein),\n        carb: this.Selected.current.state.carb - parseFloat(values.options[values.selectedIndex].totalCarb)\n      });\n      select.removeChild(select.options[select.selectedIndex]);\n    };\n\n    this.setNutritional = () => {\n      if (this.state.myRequestedRefs.menu.value === \"\") {\n        return;\n      }\n\n      var values = this.state.myRequestedRefs.menu;\n      this.Menu.current.setState({\n        calories: values.options[values.selectedIndex].value,\n        totalFat: values.options[values.selectedIndex].totalFat,\n        satFat: values.options[values.selectedIndex].satFat,\n        transFat: values.options[values.selectedIndex].transFat,\n        protein: values.options[values.selectedIndex].protein,\n        carb: values.options[values.selectedIndex].totalCarb\n      });\n    };\n\n    this.state = {\n      data: \"\"\n    };\n    this.Categories = /*#__PURE__*/React.createRef();\n    this.Menu = /*#__PURE__*/React.createRef();\n    this.Selected = /*#__PURE__*/React.createRef();\n    this.getRefsFromMenu = this.getRefsFromMenu.bind(this);\n    this.getRefsFromSelected = this.getRefsFromSelected.bind(this);\n  }\n\n  componentDidMount() {\n    this.fetchData();\n  }\n\n  getRefsFromMenu(childRefs) {\n    this.setState({\n      myRequestedRefs: childRefs\n    });\n  }\n\n  getRefsFromSelected(childRefs) {\n    this.setState({\n      selectedRefs: childRefs\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(Row, {\n      className: \"app\",\n      children: [/*#__PURE__*/_jsxDEV(Categories, {\n        ref: this.Categories,\n        setList: this.setList\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(MenuItems, {\n        ref: this.Menu,\n        passRefUpward: this.getRefsFromMenu,\n        setNutritional: this.setNutritional\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(AddButton, {\n        ref: \"button\",\n        addToSelected: this.addToSelected,\n        removeFromSelected: this.removeFromSelected\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(SelectedItems, {\n        ref: this.Selected,\n        passRefUpward: this.getRefsFromSelected\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/peytonmartin/RIT/SWEN344/React-pdm4689/pdm4689-react/src/App.js"],"names":["React","Categories","MenuItems","SelectedItems","AddButton","Row","App","Component","constructor","props","updateData","apiResponse","console","log","setState","data","fetchData","fetch","then","response","status","json","statusText","jsonOutput","catch","error","setList","foodtype","i","state","myRequestedRefs","menu","remove","length","el","document","createElement","textContent","value","totalFat","satFat","transFat","protein","totalCarb","append","addToSelected","setNutritional","values","select","selectedRefs","selected","options","selectedIndex","text","Selected","current","calories","parseInt","Menu","parseFloat","carb","removeFromSelected","removeChild","createRef","getRefsFromMenu","bind","getRefsFromSelected","componentDidMount","childRefs","render"],"mappings":"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","sourcesContent":["import React from \"react\"\nimport Categories from \"./Categories\";\nimport MenuItems from \"./MenuItems\";\nimport SelectedItems from \"./SelectedItems\";\nimport AddButton from \"./AddButton\";\nimport { Row } from 'reactstrap';\nimport './index.css';\n// import MyComponent from \"./mycomponent\";\n\nclass App extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state={data: \"\"}\n\n        this.Categories = React.createRef();\n        this.Menu = React.createRef();\n        this.Selected = React.createRef();\n\n        this.getRefsFromMenu = this.getRefsFromMenu.bind(this);\n        this.getRefsFromSelected = this.getRefsFromSelected.bind(this);\n    }\n\n    componentDidMount() {\n        this.fetchData();\n    }\n\n    updateData = (apiResponse) => {\n        console.log(apiResponse);\n        this.setState({data: apiResponse});\n        // this.props.menu.append(el);\n    }\n\n    fetchData = () => {\n        fetch('/example_api')\n        .then(\n            (response) => {\n                if (response.status === 200){return (response.json()) ;}\n                else{\n                    console.log(\"HTTP error:\" + response.status + \":\" +  response.statusText);\n                    return ([ [\"status \", response.status]]);\n                }\n            })//The promise response is returned, then we extract the json data\n        .then ((jsonOutput) => {//jsonOutput now has result of the data extraction\n            this.updateData(jsonOutput);\n        })\n        .catch((error) => {\n            console.log(error);\n                this.updateData(\"\");\n        })\n    \n    }\n\n    setList = (foodtype) => {\n        var i;\n    \n        for(i = 5; i >= 0; i--) {this.state.myRequestedRefs.menu.remove(i);}\n    \n        for(i = 0; i < this.state.data.length; i++) {\n            var el = document.createElement(\"option\");\n            if (this.state.data[i][2] === foodtype) {\n                el.textContent = this.state.data[i][1]\n                el.value = this.state.data[i][3]\n                el.totalFat = this.state.data[i][4]\n                el.satFat = this.state.data[i][5]\n                el.transFat = this.state.data[i][6];\n                el.protein = this.state.data[i][7];\n                el.totalCarb = this.state.data[i][8];\n                this.state.myRequestedRefs.menu.append(el); \n            } \n        }\n    }\n\n    getRefsFromMenu(childRefs) {\n        this.setState({\n            myRequestedRefs: childRefs\n        });\n    }\n\n    getRefsFromSelected(childRefs) {\n        this.setState({\n            selectedRefs: childRefs\n        });\n    }\n\n    addToSelected = () => {\n        if (this.state.myRequestedRefs.menu.value === \"\") {return;}\n        this.setNutritional();\n        var values = this.state.myRequestedRefs.menu;\n        var select = this.state.selectedRefs.selected;\n        var el = document.createElement(\"option\");\n    \n        el.textContent = values.options[values.selectedIndex].text;\n        el.value = values.value;\n        select.append(el);\n\n        this.Selected.current.setState({\n            calories: (this.Selected.current.state.calories + parseInt(this.Menu.current.state.calories)),\n            totalFat: (this.Selected.current.state.totalFat + parseFloat(this.Menu.current.state.totalFat)),\n            satFat: (this.Selected.current.state.satFat + parseFloat(this.Menu.current.state.satFat)),\n            transFat: (this.Selected.current.state.transFat + parseFloat(this.Menu.current.state.transFat)),\n            protein: (this.Selected.current.state.protein + parseFloat(this.Menu.current.state.protein)),\n            carb: (this.Selected.current.state.carb + parseFloat(this.Menu.current.state.carb))\n        });\n    \n    }\n    \n    removeFromSelected = () => {\n        if (this.state.selectedRefs.selected.value === \"\") {\n            return;\n        }\n        var select = this.state.selectedRefs.selected;\n        var values = this.state.myRequestedRefs.menu;\n\n        this.Selected.current.setState({\n            calories: this.Selected.current.state.calories - parseInt(values.value),\n            totalFat: this.Selected.current.state.totalFat - parseFloat(values.options[values.selectedIndex].totalFat),\n            satFat: this.Selected.current.state.satFat - parseFloat(values.options[values.selectedIndex].satFat),\n            transFat: this.Selected.current.state.transFat - parseFloat(values.options[values.selectedIndex].transFat),\n            protein: this.Selected.current.state.protein - parseFloat(values.options[values.selectedIndex].protein),\n            carb: this.Selected.current.state.carb - parseFloat(values.options[values.selectedIndex].totalCarb)\n        });\n    \n        select.removeChild(select.options[select.selectedIndex]);\n    }\n    setNutritional = () => {\n        if (this.state.myRequestedRefs.menu.value === \"\") {\n            return;\n        }\n        var values = this.state.myRequestedRefs.menu;\n\n        this.Menu.current.setState({\n            calories: values.options[values.selectedIndex].value,\n            totalFat: values.options[values.selectedIndex].totalFat,\n            satFat: values.options[values.selectedIndex].satFat,\n            transFat: values.options[values.selectedIndex].transFat,\n            protein: values.options[values.selectedIndex].protein,\n            carb: values.options[values.selectedIndex].totalCarb\n        });\n    }\n\n\n    render() {\n        return (\n            <Row className=\"app\">\n                {/* <MyComponent/> */}\n                <Categories ref={this.Categories} setList={this.setList}/>\n                <MenuItems ref={this.Menu} passRefUpward={this.getRefsFromMenu} setNutritional={this.setNutritional}/>\n                <AddButton ref=\"button\" addToSelected={this.addToSelected} removeFromSelected={this.removeFromSelected}/>\n                <SelectedItems ref={this.Selected} passRefUpward={this.getRefsFromSelected}/>\n            </Row>\n        );\n    }\n} \nexport default App;\n\n"]},"metadata":{},"sourceType":"module"}